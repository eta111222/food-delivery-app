{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport { createSlice } from '@reduxjs/toolkit';\nvar initialState = {\n  items: []\n};\nexport var basketSlice = createSlice({\n  name: 'basket',\n  initialState: initialState,\n  reducers: {\n    addToBasket: function addToBasket(state, action) {\n      state.items = [].concat(_toConsumableArray(state.items), [action.payload]);\n    },\n    removeFromBasket: function removeFromBasket(state, action) {\n      var newBasket = _toConsumableArray(state.items);\n      var itemIndex = state.items.findIndex(function (item) {\n        return item.id == action.payload.id;\n      });\n      if (itemIndex >= 0) {\n        newBasket.splice(itemIndex, 1);\n      } else {\n        console.log(\"can't remove item as its not in the basket\");\n      }\n      state.items = newBasket;\n    },\n    emptyBasket: function emptyBasket(state, action) {\n      state.items = [];\n    }\n  }\n});\nvar _basketSlice$actions = basketSlice.actions,\n  addToBasket = _basketSlice$actions.addToBasket,\n  removeFromBasket = _basketSlice$actions.removeFromBasket,\n  emptyBasket = _basketSlice$actions.emptyBasket;\nexport { addToBasket, removeFromBasket, emptyBasket };\nexport var selectBasketItems = function selectBasketItems(state) {\n  return state.basket.items;\n};\nexport var selectBasketItemsById = function selectBasketItemsById(state, id) {\n  return state.basket.items.filter(function (item) {\n    return item.id == id;\n  });\n};\nexport var selectBasketTotal = function selectBasketTotal(state) {\n  return state.basket.items.reduce(function (total, item) {\n    return total = total += item.price;\n  }, 0);\n};\nexport default basketSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","items","basketSlice","name","reducers","addToBasket","state","action","payload","removeFromBasket","newBasket","itemIndex","findIndex","item","id","splice","console","log","emptyBasket","actions","selectBasketItems","basket","selectBasketItemsById","filter","selectBasketTotal","reduce","total","price","reducer"],"sources":["/Users/eta/Documents/food-delivery-app-react-native/client/slices/basketSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = {\n  items: [],\n}\n\nexport const basketSlice = createSlice({\n  name: 'basket',\n  initialState,\n  reducers: {\n    addToBasket: (state, action) => {\n      state.items = [...state.items, action.payload]\n    },\n    removeFromBasket: (state, action) => {\n      let newBasket = [...state.items];\n      let itemIndex = state.items.findIndex(item=> item.id==action.payload.id);\n      if(itemIndex>=0){\n        newBasket.splice(itemIndex, 1);\n      }else{\n        console.log(\"can't remove item as its not in the basket\");\n      }\n      state.items = newBasket\n    },\n    emptyBasket: (state, action)=>{\n        state.items = [];\n    }\n  },\n})\n\n\nexport const { addToBasket, removeFromBasket, emptyBasket } = basketSlice.actions\n\nexport const selectBasketItems = state=> state.basket.items;\n\nexport const selectBasketItemsById = (state, id)=> state.basket.items.filter(item=> item.id==id);\n\nexport const selectBasketTotal = state=> state.basket.items.reduce((total, item)=> total = total += item.price, 0)\n\nexport default basketSlice.reducer"],"mappings":";AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,IAAMC,YAAY,GAAG;EACnBC,KAAK,EAAE;AACT,CAAC;AAED,OAAO,IAAMC,WAAW,GAAGH,WAAW,CAAC;EACrCI,IAAI,EAAE,QAAQ;EACdH,YAAY,EAAZA,YAAY;EACZI,QAAQ,EAAE;IACRC,WAAW,EAAE,qBAACC,KAAK,EAAEC,MAAM,EAAK;MAC9BD,KAAK,CAACL,KAAK,gCAAOK,KAAK,CAACL,KAAK,IAAEM,MAAM,CAACC,OAAO,EAAC;IAChD,CAAC;IACDC,gBAAgB,EAAE,0BAACH,KAAK,EAAEC,MAAM,EAAK;MACnC,IAAIG,SAAS,sBAAOJ,KAAK,CAACL,KAAK,CAAC;MAChC,IAAIU,SAAS,GAAGL,KAAK,CAACL,KAAK,CAACW,SAAS,CAAC,UAAAC,IAAI;QAAA,OAAGA,IAAI,CAACC,EAAE,IAAEP,MAAM,CAACC,OAAO,CAACM,EAAE;MAAA,EAAC;MACxE,IAAGH,SAAS,IAAE,CAAC,EAAC;QACdD,SAAS,CAACK,MAAM,CAACJ,SAAS,EAAE,CAAC,CAAC;MAChC,CAAC,MAAI;QACHK,OAAO,CAACC,GAAG,CAAC,4CAA4C,CAAC;MAC3D;MACAX,KAAK,CAACL,KAAK,GAAGS,SAAS;IACzB,CAAC;IACDQ,WAAW,EAAE,qBAACZ,KAAK,EAAEC,MAAM,EAAG;MAC1BD,KAAK,CAACL,KAAK,GAAG,EAAE;IACpB;EACF;AACF,CAAC,CAAC;AAGK,2BAAuDC,WAAW,CAACiB,OAAO;EAAlEd,WAAW,wBAAXA,WAAW;EAAEI,gBAAgB,wBAAhBA,gBAAgB;EAAES,WAAW,wBAAXA,WAAW;AAAwB;AAEjF,OAAO,IAAME,iBAAiB,GAAG,SAApBA,iBAAiB,CAAGd,KAAK;EAAA,OAAGA,KAAK,CAACe,MAAM,CAACpB,KAAK;AAAA;AAE3D,OAAO,IAAMqB,qBAAqB,GAAG,SAAxBA,qBAAqB,CAAIhB,KAAK,EAAEQ,EAAE;EAAA,OAAIR,KAAK,CAACe,MAAM,CAACpB,KAAK,CAACsB,MAAM,CAAC,UAAAV,IAAI;IAAA,OAAGA,IAAI,CAACC,EAAE,IAAEA,EAAE;EAAA,EAAC;AAAA;AAEhG,OAAO,IAAMU,iBAAiB,GAAG,SAApBA,iBAAiB,CAAGlB,KAAK;EAAA,OAAGA,KAAK,CAACe,MAAM,CAACpB,KAAK,CAACwB,MAAM,CAAC,UAACC,KAAK,EAAEb,IAAI;IAAA,OAAIa,KAAK,GAAGA,KAAK,IAAIb,IAAI,CAACc,KAAK;EAAA,GAAE,CAAC,CAAC;AAAA;AAElH,eAAezB,WAAW,CAAC0B,OAAO"},"metadata":{},"sourceType":"module"}